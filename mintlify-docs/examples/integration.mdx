---
title: "Integration Examples"
description: "Integrate LaTeX charts with external data and tools"
---

## Overview

Learn how to integrate LaTeX charting with external data sources, programming languages, and automation tools.

## Example 1: Reading Data from CSV

Import and plot data from CSV files:

```latex
\documentclass{article}
\usepackage{pgfplots}
\usepackage{pgfplotstable}
\pgfplotsset{compat=1.18}

\begin{document}

% data.csv contains:
% Year,Revenue,Profit
% 2018,100,20
% 2019,120,25
% 2020,150,35
% 2021,180,45
% 2022,200,50

\begin{tikzpicture}
\begin{axis}[
    xlabel={Year},
    ylabel={Amount (\$M)},
    legend pos=north west
]
\addplot table[x=Year, y=Revenue, col sep=comma] {data.csv};
\addlegendentry{Revenue}

\addplot table[x=Year, y=Profit, col sep=comma] {data.csv};
\addlegendentry{Profit}
\end{axis}
\end{tikzpicture}

\end{document}
```

## Example 2: Python Integration

Generate plots from Python data:

```python
import numpy as np
import matplotlib.pyplot as plt

# Generate data
x = np.linspace(0, 10, 100)
y = np.sin(x)

# Export to LaTeX-compatible format
with open('data.dat', 'w') as f:
    for xi, yi in zip(x, y):
        f.write(f'{xi} {yi}\n')
```

```latex
\documentclass{article}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}

\begin{document}

\begin{tikzpicture}
\begin{axis}[
    xlabel={$x$},
    ylabel={$\sin(x)$}
]
\addplot table {data.dat};
\end{axis}
\end{tikzpicture}

\end{document}
```

## Example 3: Using MCP Server

Query chart examples via MCP:

```typescript
import { MCPClient } from '@modelcontextprotocol/sdk';

const client = new MCPClient();

// Get chart example
const response = await client.callTool({
  name: 'get_chart_example',
  arguments: {
    chart_type: 'line_chart',
    features: ['multiple_series', 'legend']
  }
});

console.log(response.latex_code);
```

## Example 4: Database Integration

Fetch data from database and plot:

```python
import psycopg2
import csv

# Connect to database
conn = psycopg2.connect("dbname=mydb user=myuser")
cur = conn.cursor()

# Query data
cur.execute("SELECT date, value FROM metrics ORDER BY date")

# Export to CSV
with open('db_data.csv', 'w', newline='') as f:
    writer = csv.writer(f)
    writer.writerow(['Date', 'Value'])
    writer.writerows(cur.fetchall())

cur.close()
conn.close()
```

```latex
\documentclass{article}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}

\begin{document}

\begin{tikzpicture}
\begin{axis}[
    xlabel={Date},
    ylabel={Value},
    date coordinates in=x,
    xticklabel={\day.\month.\year}
]
\addplot table[x=Date, y=Value, col sep=comma] {db_data.csv};
\end{axis}
\end{tikzpicture}

\end{document}
```

## Example 5: Automated Report Generation

Build automated LaTeX reports with charts:

```python
# generate_report.py
from jinja2 import Template
import subprocess

template = Template(r'''
\documentclass{article}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}

\begin{document}

\section{Monthly Report}

\begin{tikzpicture}
\begin{axis}[
    xlabel={Month},
    ylabel={Sales},
    ybar,
    symbolic x coords={ {{months}} },
    xtick=data
]
\addplot coordinates { {{data}} };
\end{axis}
\end{tikzpicture}

\end{document}
''')

# Your data
months = ','.join(['Jan', 'Feb', 'Mar', 'Apr'])
data = ' '.join([f'({m},{v})' for m, v in [
    ('Jan', 100), ('Feb', 120), ('Mar', 150), ('Apr', 140)
]])

# Generate LaTeX
latex_code = template.render(months=months, data=data)

# Write to file
with open('report.tex', 'w') as f:
    f.write(latex_code)

# Compile PDF
subprocess.run(['pdflatex', 'report.tex'])
```

## Example 6: JSON Data Import

Parse and plot JSON data:

```python
import json

# Load JSON data
with open('data.json', 'r') as f:
    data = json.load(f)

# Convert to LaTeX-compatible format
with open('plot_data.dat', 'w') as f:
    for point in data['points']:
        f.write(f"{point['x']} {point['y']}\n")
```

```latex
\documentclass{article}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}

\begin{document}

\begin{tikzpicture}
\begin{axis}
\addplot table {plot_data.dat};
\end{axis}
\end{tikzpicture}

\end{document}
```

## Example 7: Web API Integration

Fetch data from REST API and plot:

```python
import requests
import pandas as pd

# Fetch data from API
response = requests.get('https://api.example.com/data')
data = response.json()

# Convert to DataFrame
df = pd.DataFrame(data)

# Export to CSV
df.to_csv('api_data.csv', index=False)
```

## Example 8: CI/CD Integration

Automate chart generation in CI pipeline:

```yaml
# .github/workflows/generate-charts.yml
name: Generate Charts

on:
  push:
    branches: [ main ]

jobs:
  generate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2

      - name: Install LaTeX
        run: |
          sudo apt-get update
          sudo apt-get install texlive-latex-extra texlive-pictures

      - name: Generate data
        run: python generate_data.py

      - name: Compile charts
        run: |
          pdflatex charts.tex
          pdflatex charts.tex  # Run twice for references

      - name: Upload PDF
        uses: actions/upload-artifact@v2
        with:
          name: charts
          path: charts.pdf
```

## Example 9: R Integration

Generate charts from R statistical analysis:

```r
# Generate data in R
library(ggplot2)

# Your analysis
data <- data.frame(
  x = 1:10,
  y = rnorm(10, mean=5, sd=2)
)

# Export for LaTeX
write.table(data, "r_data.dat",
            row.names=FALSE, col.names=FALSE)
```

## Example 10: Excel Integration

Convert Excel data to LaTeX plots:

```python
import pandas as pd

# Read Excel file
df = pd.read_excel('data.xlsx', sheet_name='Sales')

# Export specific columns
df[['Month', 'Revenue']].to_csv('excel_data.csv', index=False)
```

## MCP Server Integration

Full MCP server integration example:

```typescript
// mcp-client.ts
import { MCPClient } from '@modelcontextprotocol/sdk';

async function generateChart() {
  const client = new MCPClient({
    serverUrl: 'http://localhost:3000/mcp'
  });

  // Search for similar examples
  const examples = await client.callTool({
    name: 'search_latex_knowledge',
    arguments: {
      query: 'bar chart with data from csv',
      category: 'charts'
    }
  });

  // Get specific command documentation
  const cmdSpec = await client.callTool({
    name: 'get_latex_command_spec',
    arguments: {
      command: 'addplot',
      package: 'pgfplots'
    }
  });

  // Get complete chart example
  const chartCode = await client.callTool({
    name: 'get_chart_example',
    arguments: {
      chart_type: 'bar_chart',
      data_source: 'csv',
      features: ['legend', 'grid']
    }
  });

  return chartCode.latex_code;
}
```

## Best Practices

1. **Separate Data from Presentation**: Keep data files separate from LaTeX code
2. **Version Control**: Track both data and LaTeX source
3. **Automate**: Use scripts for data processing and compilation
4. **Validate Data**: Check data quality before plotting
5. **Document**: Comment your code and data sources
6. **Test**: Verify generated charts match expected output

## Related Topics

- [Basic Examples](basic)
- [Advanced Examples](advanced)
- [API Reference](../api/overview)
- [MCP Server Setup](../installation)
